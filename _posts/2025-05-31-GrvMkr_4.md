---
title:  "GrvMkr: User Experience on Mobile and Shareability"
categories: projects
tags: web software percussion drumming samba ux user-experience
---

# TLDR
Made GrvMkr into a mobile friendly progressive web app (PWA) with a bunch of new features. 

# TSGM (To short, gimme more)
Since the last update, i've been focussing on user experience and making this into a tool fit for use in the real world. Often my personal projects don't really have any real users, but that has all changed now. 

Aside from my mum, the catalyst for this project, a local samba band leader got in touch and requested some features. I was surprised that people were beginning to use the tool in real life, and i knew of a number of short comings that i wanted to fix given this:

- Mobile friendliness, or lack of
While GrvMkr kind of works on mobile, its hard, fiddly and feels restrictive compared to desktop. 
- Sharable grooves UX
Grooves were technically sharable, but the sound files weren't bundles with the groove, so the groove importer would need to find the samples from somewhere, which added to the friction of importing. 
- Groove file management
The only way to manage groove files is download them, and store and organise them on your machine. Wouldn't it be nice if they all saved automatically to your browser? yes. 

Interestingly though, the feature that they requested wasn't in the above list. They wanted instrument volume controls. 

# Mute, solo and volume controls
I set some design constraints for this feature:
- Volume controls should be easily accessible when playing and editing grooves
- They should be small and un-intrusive
- They should work intuitively on desktop and mobile 

This meant, they should live in the grids, and not the instrument configuration section of the app. That i was certain of. 

The rest, i wasn't sure about. There are existing patterns for volume control in the music production world in DAWs (digital audio workstation). Generally, people in that world know that M means mute and S means solo. I copied this pattern, knowing it wasn't perfect for people not in that world, but in the worst case, its very obvious what these buttons do when you use them, and they don't do anything non-reversible so i wasn't overly concerned. 

![Initial mute and solo design]({{ site.url }}/assets/images/grvmkr/4/mute_solo.png)

In terms of the volume controls, i wanted to KISS (keep it simple, stupid). I initially just added a percentage number like `80%` inside the first row cell, along side the instrument name, mute and solo buttons. 

![Initial volume control design - Too simple]({{ site.url }}/assets/images/grvmkr/4/volume_initial.png)

This number could be pressed and dragged to control the volume. Left or down for volume down, and up or right for volume up. This worked well technically, but i didn't think it was obvious enough to look at once and immediately know what that `80%` meant. 

I decided on a simple triangle shape representing the volume, where the dark triangle outline would be filled with a green fill to the percentage of the volume. 

![Volume controls with filled triangle]({{ site.url }}/assets/images/grvmkr/4/volume_triangles.png)

This, along with the percentage number is all draggable to control the volume. I initially had some problems with the UX on mobile, where the system page scroll would stop the volume controls from working. A simple `event.preventDefault()` in my `onpointerdown` handler resolved this. 

## Multi cell selection + copy and paste
As mentioned at the end of my last blog post, a lot of samba grooves contain similar patterns for each instrument. Some breaks are just the whole band playing the same rhythm over and over. Manually inputting these hits for each instrument would be painful, so copy and paste was an obvious requirement. However, from a mobile perspective i wasn't sure about the best UX for any of this functionality. 

Luckily, i had guineapigs to test on and someone close to me who recently studied UX/UI to lean on. 

### Multi cell selection
Some similar apps that require multi selection are photo apps, like Apple Photos and Google Photos. With Apple, you have to tap a 'select' button and from there you can press, hold and drag over the photos you want to select. On Google photos you press and hold a photo and about 500ms, and it activates selection mode where you can drag your finger over photos you want to select. I much prefer the google approach, it feels more natural.

What i couldn't work out is why Google didn't allow press, hold and drag horizontally (without the 500ms hold delay) to achieve the same. The photos aren't horizontally scrollable, so this gesture is available. One potential reason is that photos are stacked vertically and horizontally, and you can select in either direction. However with GrvMkr, for MVP i'm only allowing selecting cells within a single row. 

I decided to remove the hold delay constraint in GrvMkr, and it felt nice and natural to me. 

### Copy and paste
I initially implemented copy and paste as keyboard shortcuts, assuming that most people would create grooves on desktop. This was obviously a dumb assumption given the ratio of mobile to desktop traffic these days. 

I wondered how to do the same on mobile, without access to a keyboard and decided to throw the feature into the 'cell tools' bar that currently housed a number of tools for the currently selected cell(s) like merging, unmerging and setting the hit type. 

This was ok, but with medium to large grids with many instruments, the grid tools bar would be off screen and the user would need to scroll down to it, often accidentally selecting a new cell in the process. This was a frustrating user experience, so i decided that the cell tool bar should be pinned to the bottom of the screen while the grid with the selected cell is visible.

Here's a video demonstrating multiselect, copy and paste!

<video width="560" height="315" controls>
  <source src="{{ '/assets/video/grvmkr_grv_building.mp4' | relative_url }}" type="video/mp4">
  Your browser does not support videos, sorry.
</video>


# Progressive Web App (PWA)
I'd heard of progressive web apps years and years back, but never really played with them. I think the idea is to be able to build a web app that can be 'installed' on a mobile device. Cool idea, lets see how it works in practice. 

There'a a few minor hoops to jump through, like adding a manifest, and some icons, but nothing chat GPT couldn't do for me. 

My initial impressions weren't amazing, the installation process isn't obvious and if you don't know about PWAs and how to install them, you just wouldn't. You can't even add a button to your UI to prompt the user because there's no API to do the install. It'd just have to be some UI explaining how to do it. So i didn't bother. 

Additionally, on IOS its even more hidden because Apple don't allow third party browsers to install PWAs, so you must use Safari to install. Urgh. 

The main benefits are ease of access from your phones home screen, and no intrusive browser UI.

![PWA vs In Browser experience]({{ site.url }}/assets/images/grvmkr/4/pwa.png)

All in all, it was a vaguely interesting learning experience, but not worth the effort. 

# Local file save
A simple but needed feature. The addition of two main menu buttons: 'New' and 'My Grooves'

Fairly self explanatory really, with one UX caveat that's been playing on my mind: "If i press the new button, am i going to lose my work?". A fairly valid question that i imagine most people would think before they press it, given there's no 'save' button. 

I hope that if people do think this, they'll see the 'Save to file' button, and use this to download their file, to ensure no lost work. They'll see the file download and then they'll press new. Then they might press 'My Grooves' to see if they did in fact lose their work, and they'll see their previous groove there, safe and sound. Now they've learned about the two ways files are saved. 

I'm still not 100% happy with this approach, but it'll do for now. 

![PWA vs In Browser experience]({{ site.url }}/assets/images/grvmkr/4/my_grooves.png)

# Toggle light and dark theme 
I did this mainly so i could easily test light and dark mode themes, without going into my macbook system settings. It also raises awareness of the theming for people who might not want the same as their system default. Personally, i'm always in dark mode, and i much prefer GrvMkr in dark mode, so i hope others enjoy the eyeball friendly theme as much as me. 

![PWA vs In Browser experience]({{ site.url }}/assets/images/grvmkr/4/theme.png)

# Bundle audio files with groove files
As mentioned above, previously you could save a big json file, containing the structure of the grids and instruments, which would reload into GrvMkr. However, since the audio files for the instrument hits weren't bundled, new importers of the file would need to re-import the audio file. 

Think about the scenario of a band leader trying to share the grooves with their band mates or other leaders, they would have to seperately share a bunch of audio files for them to re=import one by one. Ew. 

![PWA vs In Browser experience]({{ site.url }}/assets/images/grvmkr/4/missing_audio_file.png)

This is obviously a bad experience, and came about due to my MVP approach, but now is the time to fix it.

So instead of saving a json file, i wrapped this json file in a zip, and added an audio folder containing all the relevant samples. I then renamed the zip to `.grv` just for funsies.

![PWA vs In Browser experience]({{ site.url }}/assets/images/grvmkr/4/grv_zip_structure.png)

Now you can share these `.grv` files, and import them into GrvMkr and all your samples will be there automatically! Nice. 

# Play file like an arrangement
The final feature, which was much requested by all 2 of my user base (lol), was playing groove files as an arrangement. So you can build a song of many grids/sections, and it'll play like a song. 

Now you can see how going from the intro to the bridge to the main groove sound and feels without being a ninja and pressing the next grid's play button at exactly the right time. 


# Final word
I've really been enjoying working on GrvMkr recently. Its been a great pet project in many ways, but most recently its been great because other people are using and seeing benefit from it. This is really rewarding. 
